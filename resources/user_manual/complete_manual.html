<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Complete Manual</title>
    <style>
        p {
            line-height: 1.4;
            text-align: justify;
            margin-left: 50px;
            margin-right: 50px;
            margin-top: 20px;
            margin-bottom: 20px
        }

        h2 {
            text-align: justify;
            margin-left: 50px;
            margin-right: 50px;
            margin-top: 20px;
            margin-bottom: 20px
        }

        h3 {
            text-align: justify;
            margin-left: 50px;
            margin-right: 50px;
            margin-top: 20px;
            margin-bottom: 20px
        }

        h4 {
            text-align: justify;
            margin-left: 50px;
            margin-right: 50px;
            margin-top: 20px;
            margin-bottom: 20px
        }

        table {
            text-align: justify;
            margin-right: 50px;
            margin-left: 50px;
            margin-top: 20px;
            margin-bottom: 20px
        }

        table,
        th,
        td {
            border: 1px solid;
            border-collapse: collapse;
            padding: 5px 10px
        }
    </style>
</head>

<body>
    <h2>User-manual</h2>
    <p>
        The ScienceFlightPlanner Plugin helps in improving your workflow when planning scientific flight surveys.
    </p>
    <p>
        The plugin consists of eight core features. Seven of them are represented with according buttons and one feature
        can be accessed via the selection box in the toolbar.
    </p>

    <p>
        In addition to this help manual, you can find tutorial videos for using our plugin on our Youtube channel <a href="https://www.youtube.com/channel/UCkSBaCW_Sohcqlh8Pu6tufg"> ScienceFlightPlanner</a>
    </p>
    <h2>Feature Overview</h2>
    <table>
        <tr>
            <th>Feature name</th>
            <th>Access via</th>
            <th>Short Description</th>
            <th>Applicable to layer geometry</th>
        </tr>
        <tr>
            <td><a href=#distance> Display Flight Distance</a></td>
            <td><img src=":resources/icons/icon_distance.png"></td>
            <td>Shows the length (km) of the current flight plan.</td>
            <td>Line</td>
        </tr>
        <tr>
            <td> <a href=#duration> Display Flight Duration</a></td>
            <td><img src=":resources/icons/icon_duration.png"></td>
            <td>Shows the expected flight duration (h) of the current flight plan.</td>
            <td>Line</td>
        </tr>
        <tr>
            <td><a href=#wp_gen> Generate Waypoints for Flight Plan</a></td>
            <td><img src=":resources/icons/icon_file.png"></td>
            <td>Generates a new shp-file which contains all waypoints (numbered from 1 to n) of the current flight plan.</td>
            <td>Line</td>
        </tr>
        <tr>
            <td><a href=#export> Export to Garmin</a></td>
            <td><img src=":resources/icons/icon_export.png"></td>
            <td>Generates a wpt- and a gfp-file for the Garmin GTN™ 750Xi based on the current flight plan.</td>
            <td>Points</td>
        </tr>
        <tr>
            <td><a href=#wp_tag> Add tag to selected waypoints</a></td>
            <td><img src=":resources/icons/icon_tag.png"></td>
            <td>Adds a tag to the selected waypoints of the current flight plan</td>
            <td>Points</td>
        </tr>
        <tr>
            <td><a href=#mark_sig>Mark selected Waypoints as Significant</a></td>
            <td><img src=":resources/icons/icon_highlight.png"></td>
            <td>Marks the selected waypoints of the current flight plan as significant.</td>
            <td>Points</td>
        </tr>
        <tr>
            <td><a href=#sig_wp_gen>Generate reduced Flight Plan from significant Waypoints</a></td>
            <td><img src=":resources/icons/icon_labels.png"></td>
            <td>Extracts waypoints of currently selected waypoints that were previously marked as significant to a new shapefile.</td>
            <td>Points</td>
        </tr>
        <tr>
            <td><a href=#reverse>Reverse Waypoints</a></td>
            <td><img src=":resources/icons/icon_reverse.png"></td>
            <td>Reverses the order of current waypoints or flight plan.</td>
            <td>Line, Points</td>
        </tr>
        <tr>
            <td><a href=#coverage> Show Coverage </a></td>
            <td>Sensor selection box in toolbar</td>
            <td>When a specific sensor is chosen, the current flight plan's coverage for this specific sensor and flight altitude is computed and saved to a new shp-file.</td>
            <td>Line</td>
        </tr>
        <tr>
            <td><a href=#coverage_lines> Compute optimal Coverage Lines </a></td>
            <td><img src=":resources/icons/icon_coverage_lines.png"></td>
            <td>Given a sensor and an area of interest are selected, optimal flight lines are computed which coverage covers the selected area.</td>
            <td>Polygon</td>
        </tr>
    </table>

    <h2>Detailed Feature Description</h2>

    <h3 id="distance">Display Flight Distance</h3>
    <p> <img src=":resources/icons/icon_distance.png"> </p>
    <p>
        When the above button is pressed and a line layer is selected <a href=#faq>(FAQ)</a>, then the length (km) of
        the flight plan in this layer is shown. While activated, the display of the flight distance updates in
        accordance to changes in the layer/feature selection <a href=#faq>(FAQ)</a>. If the button is pressed again, the
        display of the length is toggled. Whether the tool is activated, is indicated by toggling the button.
    </p>

    <h3 id="duration">Display Expected Flight Duration</h3>
    <p><img src=":resources/icons/icon_duration.png"></p>
    <p>
        When the above button is pressed and a line layer is selected <a href=#faq>(FAQ)</a>, the expected duration (h)
        for flying along the flight plan in this layer is shown. While activated, the display of the flight duration
        updates in accordance to changes in the layer/feature selection <a href=#faq>(FAQ)</a>. If the button is pressed
        again, the display of the duration is toggled. Whether the tool is activated, is indicated by toggling the
        button.
    </p>
    <p>
        The used flight speed can be set in the plugin settings <a href=#faq>(FAQ)</a> with a default speed set to
        200km/h.
    </p>

    <h3 id="wp_gen">Generate Waypoints for Flight Plan</h3>
    <p><img src=":resources/icons/icon_file.png"></p>
    <p>
        When the above button is pressed and a line layer is selected <a href=#faq>(FAQ)</a>, all waypoints of this
        layer's flight plan are extracted. A waypoint is defined as each point in the flight path where the flight
        changes direction.
    </p>
    <p>A window will pop up in which you can set the name and location of the shp-file in which the extracted waypoints
        will be stored as points.
    </p>

    <h3 id="wp_tag">Export to Garmin</h3>
    <p><img src=":resources/icons/icon_export.png"></p>
    <p>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
    </p>
    <p>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
    </p>

    <h3 id="export">Add tag to selected waypoints</h3>
    <p><img src=":resources/icons/icon_tag.png"></p>
    <p>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
    </p>
    <p>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
    </p>

    <h3 id="mark_sig">Mark selected Waypoints as Significant</h3>
    <p> <img src=":resources/icons/icon_highlight.png"></p>
    <p>
        When the above button is pressed and some waypoints are selected <a href=#faq>(FAQ)</a> they are marked as
        significant. This means a field "sig" is added to the attribute table of the points which you have to confirm.
    </p>
    <p>
        Afterwards each significant point is marked with a little star.
    </p>

    <h3 id="sig_wp_gen">Generate reduced Flightplan from significant Waypoints</h3>
    <p> <img src=":resources/icons/icon_labels.png"> </p>
    <p>
        When the above button is pressed and waypoints in the current layer were previously marked as significant, i.e.
        the flight plan layer has the field "sig", as generated by <a href=#mark_sig>"Mark selected Waypoints as
            Significant"</a>, the waypoints chosen to be significant will be saved in a new shp-file. The points in the
        new shp-file have ids according to their position in the original flight plan.
    </p>
    <p>In the following pop-up you can then select location and name of the new file.</p>

    <h3 id="reverse">Reverse Waypoints </h3>
    <p><img src=":resources/icons/icon_reverse.png"></p>
    <p>
        When the above button is pressed and a line layer or a layer containing waypoints is selected <a
            href=#faq>(FAQ)</a> and the features have the field id, the order of the waypoints or the layer's flight
        plan is reversed.
    </p>
    <p><u>Example:</u> If the starting point had number 1 and the end point number 30 and the waypoints are reversed,
        the original starting point will then be number 30 and the original end point number 1.
    </p>

    <h3 id="coverage">Show Coverage</h3>
    <p>
        When a line layer is selected <a href=#faq>(FAQ)</a> and a sensor in the sensor selection box of the plugin
        toolbar is selected, a new shp-file will be created containing the area which is covered by the flight plan in
        the layer for a specific flight altitude and the selected sensor.
    </p>
    <p>
        Given a coverage shp-file has been created for the current flight plan and sensor, changing the flight altitude
        or the sensor settings results in an update of the corresponding coverage shp-file.
        The flight altitude can be changed in the flight altitude SpinBox in the plugin's toolbar.
        Sensors can be added, deleted or changed in the plugin settings <a href=#faq>(FAQ)</a>.
    </p>
    <p>
        Before this feature can be used, it is necessary to set the CRS used for coverage computations in the plugin
        settings. The CRS should be compatible with the region of the QGIS project.
    </p>

    <h3 id="coverage_lines">Compute Optimal Coverage Lines</h3>
    <p> <img src=":resources/icons/icon_coverage_lines.png"></p>
    <p>
        When the above button is pressed, optimal flight lines are computed given a sensor and a polygon, representing
        an area of interest, are selected.
        These lines can be used as a template for a flight plan over the area of interest which for the selected sensor
        has some amount of overlap with as few turns as possible.
    </p>
    <p>
        The flight altitude can be changed in the flight altitude SpinBox in the toolbar and sensors can be added,
        deleted or changed in the plugin settings <a href=#faq>(FAQ)</a>.
    </p>
    <p>
        The amount of overlap which is considered when creating the optimal flight lines can also be changed in the
        plugin settings. Overlap means how much adjacent coverage segments overlap each other (see example below).

    <p><u>0% overlap</u></p>
    <p>
        <img src=":resources/user_manual/overlap_0_percent.png" width=auto height="150">
    </p>
    <p><u>50% overlap</u></p>
    <p>
        <img src=":resources/user_manual/overlap_50_percent.png" width=auto height="150">
    </p>
    </p>
    <p>
        Additionally, it is possible to use two different settings for the line computations. The default setting, which
        we strongly suggest to use, is called "optimal". In this case the lines are optimal w.r.t. the criteria
        described above. Choosing "90° rotated" means that the lines are 90° rotated from the optimal orientation.
        Therefore, they are no longer optimal but depending on the flight plan and use case this might still be useful.
    </p>
    <p>
        In order to use this feature for the first time it is necessary to set the CRS used for coverage computations in
        the plugin settings. The CRS should be compatible with the region of the QGIS project.
    </p>

    <h3 id="faq">FAQ</h3>
    <h4>What does it mean that some feature has to be selected?</h4>
    <p>
        This means, that either the feature is the only feature in the current layer or the feature is selected with the
        QGIS selection tool which can be found in the standard toolbar ("Selection Toolbar") or via "Edit ▶ Select".
    </p>
    <h4>How can I select multiple features?</h4>
    <p>
        Especially when you want to mark multiple points as significant it is useful to select multiple points. To
        select multiple points, press and hold the "CRTL" key (on Mac: "Command" key) and click on the features you want
        to select.
    </p>
    <h4>Where can the plugin settings be found?</h4>
    <p>
        The plugin setting can be found under: "Settings ▶ Options... ▶ ScienceFlightPlanner". <br> There it is possible
        to change the flight speed, the CRS used for computing sensor coverage, the setting used for computing overlap
        and to add, delete or change sensors.
    </p>
    <h4>I've activated the flight duration/distance display, how is it updated?</h4>
    <p>
        When the flight duration/distance display is activated (indicated by a toggled button of the corresponding
        feature) the distance/duration is updated in accordance to the current layer/feature selection. This means that
        when for example changing the layer to a different line layer, the distance/duration is updated to match the new
        layer.
        If the layer contains multiple features, it is required to explicitly select one feature for which the
        distance/duration is to be shown. Similarly, as for a new layer selection, a new feature selection within the
        current layer results in an update of the distance/duration.
        When a layer of a geometry other than line is selected, the display is toggled until a layer of type line is
        selected again.
    </p>
</body>

</html>